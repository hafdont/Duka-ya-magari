{% extends 'admin_base.html' %}

{% block title %}Edit Car{% endblock %}

{% block main_content %}
<h2>Edit Car: {{ car.model }}</h2>
<form action="{{ url_for('car.update_car', car_id=car.id) }}" method="POST" enctype="multipart/form-data">
    <!-- Grouped fields -->
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="model" class="form-label">Model</label>
                <input type="text" class="form-control" id="model" name="model" value="{{ car.model }}" required>
            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label for="brand" class="form-label">Brand</label>
                <input type="text" class="form-control" id="brand" name="brand" value="{{ car.brand }}" required>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="year" class="form-label">Year</label>
                <input type="number" class="form-control" id="year" name="year" value="{{ car.year }}" required>
            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="number" step="0.01" class="form-control" id="price" name="price" value="{{ car.price }}" required>
            </div>
        </div>
    </div>

    <!-- Radio buttons for category -->
    <div class="mb-3">
        <label for="category" class="form-label">Category</label>
        <div>
            {% for category in car_categories %}
                <input type="radio" id="category_{{ category.id }}" name="category" value="{{ category.id }}"
                {% if car.category == category.id %}checked{% endif %}>
                <label for="category_{{ category.id }}">{{ category.name }}</label>
            {% endfor %}
        </div>
    </div>

    <!-- Stock quantity -->
    <div class="mb-3">
        <label for="stock_qty" class="form-label">Stock Quantity</label>
        <input type="number" class="form-control" id="stock_qty" name="stock_qty" value="{{ car.stock_qty }}" required>
    </div>

    <!-- Other grouped fields -->
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="condition" class="form-label">Condition</label>
                <div>
                    <input type="radio" id="condition_new" name="condition" value="new" {% if car.condition == 'new' %}checked{% endif %}>
                    <label for="condition_new">New</label>
                    <input type="radio" id="condition_used" name="condition" value="used" {% if car.condition == 'used' %}checked{% endif %}>
                    <label for="condition_used">Used</label>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label for="transmission" class="form-label">Transmission</label>
                <div>
                    <input type="radio" id="trans_auto" name="transmission" value="automatic" {% if car.transmission == 'automatic' %}checked{% endif %}>
                    <label for="trans_auto">Automatic</label>
                    <input type="radio" id="trans_manual" name="transmission" value="manual" {% if car.transmission == 'manual' %}checked{% endif %}>
                    <label for="trans_manual">Manual</label>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label for="fuel_type" class="form-label">Fuel Type</label>
                <div>
                    <input type="radio" id="fuel_petrol" name="fuel_type" value="petrol" {% if car.fuel_type == 'petrol' %}checked{% endif %}>
                    <label for="fuel_petrol">Petrol</label>
                    <input type="radio" id="fuel_diesel" name="fuel_type" value="diesel" {% if car.fuel_type == 'diesel' %}checked{% endif %}>
                    <label for="fuel_diesel">Diesel</label>
                    <input type="radio" id="fuel_electric" name="fuel_type" value="electric" {% if car.fuel_type == 'electric' %}checked{% endif %}>
                    <label for="fuel_electric">Electric</label>
                    <input type="radio" id="fuel_hybrid" name="fuel_type" value="hybrid" {% if car.fuel_type == 'hybrid' %}checked{% endif %}>
                    <label for="fuel_hybrid">Hybrid</label>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label for="mileage" class="form-label">Mileage</label>
                <input type="number" class="form-control" id="mileage" name="mileage" value="{{ car.mileage }}" required>
            </div>
        </div>
    </div>

    <!-- Remaining fields -->
    <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control" id="description" name="description" rows="3">{{ car.description }}</textarea>
    </div>

    <button type="submit" class="btn btn-primary">Update Car</button>
</form>
{% endblock %}
